{"version":3,"sources":["../node_modules/react-use/esm/useClickAway.js","components/LanguageSwitcher.js"],"names":["defaultEvents","useClickAway","ref","onClickAway","events","savedCallback","useRef","useEffect","current","handler","event","el","contains","target","_i","events_1","length","eventName","on","document","events_2","off","LanguageSwitcher","showLanguageSwitcher","setShowLanguageSwitcher","useTranslation","t","i18n","currentLanguage","Object","keys","locales","includes","language","options","fallbackLng","transitions","useTransition","from","ENTER_OUT","enter","ENTER_IN","leave","config","mass","tension","friction","languageSwitcherRef","e","className","switchLanguage","useCallback","languageKey","changeLanguage","style","item","div","map","classnames","onClick","bind","size","memo"],"mappings":"0sBAEIA,EAAgB,CAAC,YAAa,cAwBnBC,EAvBI,SAAUC,EAAKC,EAAaC,QAC5B,IAAXA,IAAqBA,EAASJ,GAClC,IAAIK,EAAgBC,iBAAOH,GAC3BI,qBAAU,WACNF,EAAcG,QAAUL,IACzB,CAACA,IACJI,qBAAU,WAKN,IAJA,IAAIE,EAAU,SAAUC,GACpB,IAAIC,EAAKT,EAAIM,QACbG,IAAOA,EAAGC,SAASF,EAAMG,SAAWR,EAAcG,QAAQE,IAErDI,EAAK,EAAGC,EAAWX,EAAQU,EAAKC,EAASC,OAAQF,IAAM,CAC5D,IAAIG,EAAYF,EAASD,GACzBI,YAAGC,SAAUF,EAAWR,GAE5B,OAAO,WACH,IAAK,IAAIK,EAAK,EAAGM,EAAWhB,EAAQU,EAAKM,EAASJ,OAAQF,IAAM,CAC5D,IAAIG,EAAYG,EAASN,GACzBO,YAAIF,SAAUF,EAAWR,OAGlC,CAACL,EAAQF,K,QCdhB,SAASoB,EAAT,GAA4E,IAAD,SAAhDC,EAAgD,EAAhDA,qBAAsBC,EAA0B,EAA1BA,wBAC/C,EAAkBC,cAAXC,EAAP,EAAOA,EAAGC,EAAV,EAAUA,KAEJC,EAAkBC,OAAOC,KAAKC,GAASC,SAArB,OAA8BL,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAMM,UAApC,OACpBN,QADoB,IACpBA,OADoB,EACpBA,EAAMM,SADc,OAEpBN,QAFoB,IAEpBA,GAFoB,UAEpBA,EAAMO,eAFc,aAEpB,EAAeC,YAAY,GAEzBC,EAAcC,wBAAcd,EAAsB,CACtDe,KAAMC,IACNC,MAAOC,IACPC,MAAOH,IACPI,OAAQ,CACNC,KAAM,EACNC,QAAS,IACTC,SAAU,MAIRC,EAAsBzC,mBAC5BL,EAAa8C,GAAqB,SAACC,GACN,gBAAvBA,EAAEnC,OAAOoC,WACXzB,GAAwB,MAI5B,IAAM0B,EAAiBC,uBACrB,SAACC,GACKzB,GAAMA,EAAK0B,eAAeD,KAEhC,CAACzB,IAGH,OAAOS,GACL,SAACkB,EAAOC,GAAR,OACEA,GACE,eAAC,WAASC,IAAV,CACEP,UAAU,mBACV/C,IAAK6C,EACAO,QAHP,UAKE,6BAAK5B,EAAE,sCAEP,qBAAKuB,UAAU,YAAf,SACGpB,OAAOC,KAAKC,GAAS0B,KAAI,SAACL,GAAD,OACxB,qBAEEH,UAAWS,IAAW,WAAY,CAChC,iBAAkB9B,IAAoBwB,IAExCO,QAAST,EAAeU,KAAK,EAAMR,GALrC,SAOE,+BAAOrB,EAAQqB,MANVA,QAWX,qBACEH,UAAU,eACVU,QAASnC,EAAwBoC,KAAK,GAAM,GAF9C,SAIE,cAAC,IAAD,CAAaC,KAAM,aAOhBC,yBAAKxC","file":"static/js/17.9ec9db26.chunk.js","sourcesContent":["import { useEffect, useRef } from 'react';\nimport { off, on } from './misc/util';\nvar defaultEvents = ['mousedown', 'touchstart'];\nvar useClickAway = function (ref, onClickAway, events) {\n    if (events === void 0) { events = defaultEvents; }\n    var savedCallback = useRef(onClickAway);\n    useEffect(function () {\n        savedCallback.current = onClickAway;\n    }, [onClickAway]);\n    useEffect(function () {\n        var handler = function (event) {\n            var el = ref.current;\n            el && !el.contains(event.target) && savedCallback.current(event);\n        };\n        for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {\n            var eventName = events_1[_i];\n            on(document, eventName, handler);\n        }\n        return function () {\n            for (var _i = 0, events_2 = events; _i < events_2.length; _i++) {\n                var eventName = events_2[_i];\n                off(document, eventName, handler);\n            }\n        };\n    }, [events, ref]);\n};\nexport default useClickAway;\n","import {ENTER_IN, ENTER_OUT} from '../animations';\nimport locales from '../i18n/locales.json';\n\nimport {ArrowUpIcon} from '@primer/octicons-react';\nimport classnames from 'classnames';\nimport {memo, useRef, useCallback} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useTransition, animated} from 'react-spring';\nimport {useClickAway} from 'react-use';\n\nfunction LanguageSwitcher({showLanguageSwitcher, setShowLanguageSwitcher}) {\n  const {t, i18n} = useTranslation();\n\n  const currentLanguage = Object.keys(locales).includes(i18n?.language)\n    ? i18n?.language\n    : i18n?.options?.fallbackLng[0];\n\n  const transitions = useTransition(showLanguageSwitcher, {\n    from: ENTER_OUT,\n    enter: ENTER_IN,\n    leave: ENTER_OUT,\n    config: {\n      mass: 1,\n      tension: 100,\n      friction: 15,\n    },\n  });\n\n  const languageSwitcherRef = useRef();\n  useClickAway(languageSwitcherRef, (e) => {\n    if (e.target.className !== 'navbar-left') {\n      setShowLanguageSwitcher(false);\n    }\n  });\n\n  const switchLanguage = useCallback(\n    (languageKey) => {\n      if (i18n) i18n.changeLanguage(languageKey);\n    },\n    [i18n]\n  );\n\n  return transitions(\n    (style, item) =>\n      item && (\n        <animated.div\n          className=\"LanguageSwitcher\"\n          ref={languageSwitcherRef}\n          {...{style}}\n        >\n          <h3>{t('We speak the following languages')}</h3>\n\n          <div className=\"languages\">\n            {Object.keys(locales).map((languageKey) => (\n              <div\n                key={languageKey}\n                className={classnames('language', {\n                  'is-highlighted': currentLanguage === languageKey,\n                })}\n                onClick={switchLanguage.bind(this, languageKey)}\n              >\n                <span>{locales[languageKey]}</span>\n              </div>\n            ))}\n          </div>\n\n          <div\n            className=\"close-button\"\n            onClick={setShowLanguageSwitcher.bind(this, false)}\n          >\n            <ArrowUpIcon size={16} />\n          </div>\n        </animated.div>\n      )\n  );\n}\n\nexport default memo(LanguageSwitcher);\n"],"sourceRoot":""}