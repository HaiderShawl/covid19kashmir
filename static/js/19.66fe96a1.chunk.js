(this.webpackJsonpcovid19kashmir=this.webpackJsonpcovid19kashmir||[]).push([[19],{121:function(t,e,i){"use strict";var a=i(105),n=i(156),c=i(2),o=(i(147),i(148),i(21));e.a=function(t){var e=t.children,i=t.message,l=t.hold,s=void 0!==l&&l,d=t.childProps,r=void 0===d?{}:d,u=Object(c.useCallback)((function(t){return t.stopPropagation()}),[]);return Object(o.jsx)(n.a,{className:"Tooltip",content:"string"===typeof i?Object(o.jsx)("p",{className:"message",dangerouslySetInnerHTML:{__html:i.trim().split("\n").map((function(t){return"<div>".concat(t,"</div>")})).join("")}}):i,arrow:!1,animation:"shift-away",touch:!s||["hold",300],children:Object(o.jsx)("div",Object(a.a)(Object(a.a)({onClick:u},r),{},{children:e}))})}},200:function(t,e,i){"use strict";i.r(e);var a=i(105),n=i(52),c=i(47),o=i(10),l=i(120),s=i(21),d=function(t){var e=t.width,i=t.statistic,a=window.innerWidth;e||(e=a>=769?480:a);var n=(a>=769?.9:1)*e/.885,c=42+o.j+n;return Object(s.jsxs)(l.a,{viewBox:"0 0 ".concat(e," ").concat(c),height:c,width:e,speed:2,backgroundColor:o.u[i].color,children:[Object(s.jsx)("circle",{cx:.4*e,cy:c/2,r:"5"}),Object(s.jsx)("circle",{cx:.5*e,cy:c/2,r:"5"}),Object(s.jsx)("circle",{cx:.6*e,cy:c/2,r:"5"})]})},r=i(95),u=function(){return Object(s.jsxs)("div",{className:"Icons",children:[Object(s.jsx)(r.j,{size:16}),Object(s.jsx)("span",{children:"7D"})]})},j=function(){return Object(s.jsxs)("div",{className:"Icons",children:[Object(s.jsx)(r.h,{size:16}),Object(s.jsx)("span",{children:"1L"})]})},h=i(103),v=i(23),p=i(93),b=i.n(p),m=i(92),O=i.n(m),g=i(2),f=i(248),x=i(127),D=function(t){var e=t.currentStatistic,i=t.isPerLakh,a=t.delta7Mode,n=t.mapStatistic,l=t.setMapStatistic,d=t.mapType,u=t.hideDistrictTestData,j=t.hideVaccinated,p=t.zoneColor,m=Object(f.a)().t,O=Object(x.a)(),D=Object(c.a)(O,2),C=D[0],T=D[1].width,y=Object(g.useRef)(),S=o.u[e],N=Object(g.useMemo)((function(){var t=o.v.filter((function(t){var e,i;return(d===o.m.COUNTRY||"tested"!==(null===(e=o.u[t])||void 0===e?void 0:e.category)||!u)&&("vaccinated"!==(null===(i=o.u[t])||void 0===i?void 0:i.category)||!j)}));return t.includes(e)?t:[e].concat(Object(h.a)(t))}),[e,d,u,j]),k=Object(g.useCallback)((function(t){l(t.target.value)}),[l]);return Object(g.useEffect)((function(){var t,e=document.createElement("select"),i=document.createElement("option");i.textContent=null===(t=o.u[n])||void 0===t?void 0:t.displayName,e.style.cssText+="\n      visibility: hidden;\n      position: fixed;\n      ",e.appendChild(i),y.current.after(e);var a=e.getBoundingClientRect().width;a>0&&(y.current.style.width="".concat(a+2,"px")),e.remove()}),[T,n]),Object(s.jsxs)("div",{className:"StatisticDropdown",ref:C,children:[Object(s.jsx)("div",{className:b()("triangle-icon"),children:Object(s.jsx)(r.n,{size:20})}),Object(s.jsx)("select",{ref:y,value:e,className:b()(e,p),style:p&&{color:p,backgroundColor:p+"20",outlineColor:p+"40"}||{},onChange:k,children:N.map((function(t){var e=o.u[t];return Object(s.jsx)("option",{value:t,children:m(Object(v.a)(null===e||void 0===e?void 0:e.displayName))},t)}))}),Object(s.jsx)("span",{children:"".concat(i&&!(null===S||void 0===S?void 0:S.nonLinear)&&"population"!==n?" ".concat(m("per lakh")):"").concat(a&&(null===S||void 0===S?void 0:S.showDelta)||(null===S||void 0===S?void 0:S.onlyDelta7)?" ".concat(m("in last 7 days")):"")})]})},C=function(t,e){return!!O()(t.currentStatistic,e.currentStatistic)&&(!!O()(t.isPerLakh,e.isPerLakh)&&(!!O()(t.delta7Mode,e.delta7Mode)&&(!!O()(t.mapStatistic,e.mapStatistic)&&(!!O()(t.mapType,e.mapType)&&(!!O()(t.hideDistrictTestData,e.hideDistrictTestData)&&(!!O()(t.hideVaccinated,e.hideVaccinated)&&!!O()(t.zoneColor,e.zoneColor)))))))},T=Object(g.memo)(D,C),y=i(121),S=i(189),N=i(5),k=i(98),w=i(190),I=i(244),M=i(220),R=Object(g.lazy)((function(){return Object(v.j)((function(){return Promise.all([i.e(0),i.e(8),i.e(25)]).then(i.bind(null,249))}))}));function L(t){var e,i,l,h,p=this,m=t.stateCode,O=void 0===m?"TT":m,x=t.data,D=t.mapView,C=void 0===D?o.n.DISTRICTS:D,L=t.setMapView,E=t.mapStatistic,P=t.setMapStatistic,H=t.regionHighlighted,V=t.setRegionHighlighted,U=t.noRegionHighlightedDistrictData,z=t.anchor,B=t.setAnchor,A=t.expandTable,_=void 0!==A&&A,F=t.lastDataDate,Y=t.hideDistrictData,J=void 0!==Y&&Y,W=t.hideDistrictTestData,K=void 0===W||W,q=t.hideVaccinated,G=void 0!==q&&q,Q=t.noDistrictData,X=void 0!==Q&&Q,Z=Object(f.a)().t,$=Object(g.useRef)(),tt=Object(I.a)().width,et=Object(M.a)("isPerLakhMap",!1),it=Object(c.a)(et,2),at=it[0],nt=it[1],ct=Object(M.a)("delta7ModeMap",!1),ot=Object(c.a)(ct,2),lt=ot[0],st=ot[1],dt=o.k[O],rt=dt.mapType===o.m.COUNTRY?x:Object(n.a)({},O,x[O]),ut=o.u[E],jt=C===o.n.DISTRICTS&&(dt.mapType===o.m.STATE||!J&&!(K&&"tested"===(null===ut||void 0===ut?void 0:ut.category))),ht=Object(g.useMemo)((function(){var t,e,i=(H.districtName?null===(t=x[H.stateCode])||void 0===t||null===(e=t.districts)||void 0===e?void 0:e[H.districtName]:x[H.stateCode])||{};return Object(S.a)(i,(function(t){t.name=H.districtName||o.t[H.stateCode]}))}),[x,H.stateCode,H.districtName]),vt=Object(g.useCallback)((function(){var t=o.u[E];(null===t||void 0===t?void 0:t.nonLinear)||"population"===E||nt((function(t){return!t}))}),[E,nt]),pt=Object(g.useCallback)((function(){var t=C===o.n.DISTRICTS?o.n.STATES:o.n.DISTRICTS;t===o.n.STATES&&V({stateCode:H.stateCode,districtName:null}),L(t)}),[C,H.stateCode,L,V]),bt=Object(N.g)(),mt=Object(g.useRef)();Object(g.useEffect)((function(){"#MapExplorer"===bt.location.hash&&mt.current.scrollIntoView()}),[bt]);var Ot=Object(g.useMemo)((function(){var t=[];return[0,0,0,0,0,0,0].map((function(e,i){return t.push({animationDelay:"".concat(250*i,"ms")}),null})),t}),[]),gt=Object(g.useCallback)((function(t){var e=o.u[E],i=(null===e||void 0===e?void 0:e.showDelta)&&lt||(null===e||void 0===e?void 0:e.onlyDelta7)?"delta7":"total";return Object(v.g)(t,i,E,{expiredDate:F,normalizedByPopulationPer:at&&"population"!=E?"lakh":null,canBeNaN:!0})}),[E,at,F,lt]),ft=gt(ht);isNaN(ft)&&(ft="-");var xt=Object(k.useSpring)({total:ft,config:Object(a.a)({tension:250},o.r)}),Dt=Object(g.useMemo)((function(){return o.l.filter((function(t){var e;return!("vaccinated"===(null===(e=o.u[t])||void 0===e?void 0:e.category))||!G}))}),[G]),Ct=Object(g.useCallback)((function(t){var e=Dt.indexOf(E),i=(Dt.length+e+t)%Dt.length;P(Dt[i])}),[E,Dt,P]),Tt=Object(w.useSwipeable)({onSwipedLeft:Ct.bind(this,1),onSwipedRight:Ct.bind(this,-1)}),yt=(null===ut||void 0===ut||null===(e=ut.mapConfig)||void 0===e?void 0:e.spike)?o.o.SPIKE:at||(null===ut||void 0===ut||null===(i=ut.mapConfig)||void 0===i?void 0:i.colorScale)||(null===ut||void 0===ut?void 0:ut.nonLinear)?o.o.CHOROPLETH:o.o.BUBBLE,St=Object(g.useCallback)((function(){(null===ut||void 0===ut?void 0:ut.showDelta)&&st((function(t){return!t}))}),[ut,st]),Nt="mapexplorer"===z||_&&tt>=769,kt=Object(g.useCallback)((function(t){var e;return(null===ut||void 0===ut||null===(e=ut.mapConfig)||void 0===e?void 0:e.transformFn)?ut.mapConfig.transformFn(t):t}),[ut]),wt=(null===ut||void 0===ut||null===(l=ut.mapConfig)||void 0===l?void 0:l.colorScale)?ut.mapConfig.colorScale(kt(ft)):"";return Object(s.jsxs)("div",{className:b()("MapExplorer",{stickied:Nt},{hidden:z&&"mapexplorer"!==z&&(!_||tt<769)}),children:[Object(s.jsx)("div",{className:b()("anchor","fadeInUp",{stickied:Nt}),style:{display:tt<769||tt>=769&&_?"none":""},onClick:B&&B.bind(this,"mapexplorer"===z?null:"mapexplorer"),children:Object(s.jsx)(r.i,{})}),Object(s.jsxs)("div",{className:"panel",ref:mt,children:[Object(s.jsxs)("div",{className:"panel-left fadeInUp",style:Ot[0],children:[Object(s.jsxs)("h2",{className:b()(E),style:{color:wt||(null===ut||void 0===ut?void 0:ut.color)},children:[Z(ht.name),ht.name===o.A&&" [".concat(Z(o.t[H.stateCode]),"]")]}),H.stateCode&&Object(s.jsxs)("h1",{className:b()("district",E),style:{color:wt||(null===ut||void 0===ut?void 0:ut.color)},children:[Object(s.jsx)(k.animated.div,{children:xt.total.to((function(t){return U&&(null===ut||void 0===ut?void 0:ut.hasPrimary)?"-":Object(v.e)(t,ut.format,E)}))}),Object(s.jsx)(T,{currentStatistic:E,statistics:Dt,mapType:dt.mapType,isPerLakh:at,delta7Mode:lt,mapStatistic:E,setMapStatistic:P,hideDistrictTestData:K,hideVaccinated:G,zoneColor:wt})]})]}),Object(s.jsxs)("div",{className:b()("panel-right","is-".concat(E)),children:[Object(s.jsxs)("div",{className:"switch-type",children:[Object(s.jsx)(y.a,{message:"Last 7 day values",hold:!0,children:Object(s.jsx)("div",{className:b()("toggle","fadeInUp",{"is-highlighted":lt&&(null===ut||void 0===ut?void 0:ut.showDelta)||(null===ut||void 0===ut?void 0:ut.onlyDelta7),disabled:!(null===ut||void 0===ut?void 0:ut.showDelta)}),onClick:St,style:Ot[1],children:Object(s.jsx)(u,{})})}),Object(s.jsx)(y.a,{message:"Per lakh people",hold:!0,children:Object(s.jsx)("div",{className:b()("toggle","fadeInUp",{"is-highlighted":!(null===ut||void 0===ut?void 0:ut.nonLinear)&&yt===o.o.CHOROPLETH,disabled:(null===ut||void 0===ut?void 0:ut.nonLinear)||"population"===E}),onClick:vt,style:Ot[2],children:Object(s.jsx)(j,{})})}),dt.mapType===o.m.COUNTRY&&Object(s.jsx)(y.a,{message:"Toggle between states/districts",hold:!0,children:Object(s.jsx)("div",{className:b()("toggle","boundary fadeInUp",{"is-highlighted":jt,disabled:J||"tested"===(null===ut||void 0===ut?void 0:ut.category)&&K}),onClick:pt,style:Ot[3],children:Object(s.jsx)(r.g,{})})}),dt.mapType===o.m.STATE&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)("div",{className:"toggle back fadeInUp",onClick:function(){bt.push("/#MapExplorer")},style:Ot[4],children:Object(s.jsx)(r.b,{})})]})]}),Object(s.jsx)("div",{className:"switch-statistic fadeInUp",style:Ot[5],children:Dt.map((function(t){return Object(s.jsx)("div",{className:b()("toggle","statistic-option","is-".concat(t),{"is-highlighted":E===t}),onClick:P.bind(p,t),children:Object(s.jsx)(r.d,{})},t)}))})]})]}),Object(s.jsx)("div",Object(a.a)(Object(a.a)({ref:$,className:"fadeInUp",style:Ot[3]},Tt),{},{children:E&&Object(s.jsx)(g.Suspense,{fallback:Object(s.jsx)(d,{className:"map-loader",width:null===(h=$.current)||void 0===h?void 0:h.clientWidth,statistic:E}),children:Object(s.jsx)(R,{data:rt,statistic:E,mapCode:O,isDistrictView:jt,mapViz:yt,regionHighlighted:H,setRegionHighlighted:V,getMapStatistic:gt,transformStatistic:kt,noDistrictData:X})})}))]})}var E=function(t,e){var i,a,n,c,o,l,s,d,r,u;return!!O()(t.stateCode,e.stateCode)&&(!!O()(t.regionHighlighted,e.regionHighlighted)&&(!!O()(t.mapView,e.mapView)&&(!!O()(t.mapStatistic,e.mapStatistic)&&(!!O()(t.anchor,e.anchor)&&(!!O()(t.expandTable,e.expandTable)&&(!!O()(t.hideDistrictData,e.hideDistrictData)&&(!!O()(t.hideDistrictTestData,e.hideDistrictTestData)&&(!!O()(t.hideVaccinated,e.hideVaccinated)&&(!!O()(t.lastDataDate,e.lastDataDate)&&(!!O()(null===(i=t.data)||void 0===i||null===(a=i.TT)||void 0===a||null===(n=a.meta)||void 0===n?void 0:n.last_updated,null===(c=e.data)||void 0===c||null===(o=c.TT)||void 0===o||null===(l=o.meta)||void 0===l?void 0:l.last_updated)&&(!!O()(null===(s=t.data)||void 0===s||null===(d=s.TT)||void 0===d?void 0:d.total,null===(r=e.data)||void 0===r||null===(u=r.TT)||void 0===u?void 0:u.total)&&(!!O()(t.noRegionHighlightedDistrictData,e.noRegionHighlightedDistrictData)&&!!O()(t.noDistrictData,e.noDistrictData)))))))))))))};e.default=Object(g.memo)(L,E)}}]);
//# sourceMappingURL=19.66fe96a1.chunk.js.map