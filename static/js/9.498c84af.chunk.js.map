{"version":3,"sources":["../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-array/src/max.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-brush/src/constant.js","../node_modules/d3-brush/src/event.js","../node_modules/d3-brush/src/noevent.js","../node_modules/d3-brush/src/brush.js","../node_modules/d3-selection/src/pointers.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js"],"names":["event","sourceEvent","max","values","valueof","undefined","value","index","x","epsilon","translateX","translateY","y","number","scale","d","center","offset","Math","bandwidth","round","entering","this","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","window","devicePixelRatio","k","transform","context","ticks","apply","domain","format","identity","spacing","range","range0","range1","length","position","copy","selection","path","selectAll","data","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","merge","insert","transition","isFinite","getAttribute","p","parentNode","remove","filter","each","_","arguments","Array","from","slice","tickSize","axisRight","axisBottom","node","currentTarget","svg","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","x0","y0","y1","x1","defined","constant","curve","curveLinear","output","area","i","j","buffer","n","array","defined0","x0z","y0z","areaStart","lineStart","lineEnd","areaEnd","arealine","pointX","pointY","lineX0","lineY0","lineY1","lineX1","nonpassivecapture","capture","passive","preventDefault","stopImmediatePropagation","view","root","document","documentElement","on","noevent","__noselect","style","MozUserSelect","yesdrag","noclick","setTimeout","BrushEvent","type","target","mode","dispatch","Object","defineProperties","enumerable","configurable","nopropagation","MODE_DRAG","name","MODE_SPACE","MODE_HANDLE","MODE_CENTER","abs","min","number1","e","number2","X","handles","map","input","xy","Y","cursors","overlay","s","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","t","defaultFilter","ctrlKey","button","defaultExtent","hasAttribute","viewBox","baseVal","width","height","defaultTouchable","navigator","maxTouchPoints","local","__brush","empty","extent","brushSelection","state","dim","brushX","brush","touchending","touchable","keys","listeners","handleSize","group","property","initialize","handle","redraw","started","touchmoved","touchended","emitter","that","args","clean","emit","Emitter","active","touches","w0","w1","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","__data__","metaKey","altKey","signX","signY","W","N","E","S","dx","dy","shifting","shiftKey","points","identifier","pointer","point0","interrupt","beforestart","pts","move","moved","ended","keydowned","keyupped","dragDisable","call","start","changedTouches","cur","clearTimeout","dragEnable","end","keyCode","tween","selection0","selection1","interpolate","clear","prototype","starting","datum","keyModifiers","events","series","m","isNaN","o","stackValue","key","stackSeries","orderNone","offsetNone","stack","oz","sz"],"mappings":"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","file":"static/js/9.498c84af.chunk.js","sourcesContent":["export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n"],"sourceRoot":""}